<!-- templates/base.html -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>sac-luminome</title>
    <link rel="stylesheet" href="/css/luminome.css"/>
</head>

<body>
<div class="hero-body">

    {% if request.path == url_for('main.index') and current_user.is_authenticated %}
    <div class="container">
        <a href="{{ url_for('main.admin') }}">
            admin
        </a>
        <a href="{{ url_for('auth.logout') }}">
            quit
        </a>
    </div>
    {% endif %}

    {% if request.path == url_for('main.admin') and current_user.is_authenticated %}
    <div class="container">
        <a href="{{ url_for('main.index') }}">
            main
        </a>
    </div>
    {% endif %}

    <div class="has-text-centered">
        {% block content %}

        {% endblock %}
    </div>
</div>

<script type="module" src="{{url_for('static', filename='js/admin.js')}}"></script>



<div id="credit" class="container">

    {% if not current_user.is_authenticated %}
    <a href="/admin/">
    {% else %}
        <a href="/">
    {% endif %}



    <svg class="sac-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1024 1024" xml:space="preserve">
    <style type="text/css">
        .st-cred{fill:#FFFFFF;}
    </style>
    <path class="st-cred" d="M280.8,403.8c-30.9,0-55.2,5.9-72.4,17.4c-17.4,11.7-26.6,29.2-26.6,50.6c0,16.7,6,30.7,17.9,41.8c0,0,0,0,0,0
        c17.6,16,35.4,17.5,82.9,21.5c17.2,1.5,30.3,2.9,38,5.4c8.1,2.5,8.1,5.3,8.1,7.2c0,13.6-22.9,18.4-42.5,18.4
        c-23.8,0-42-4.6-55.9-14.2c0,0,0,0,0,0c-5.1-3.4-6.7-5.3-8.6-7.5l0,0l-6.1-7.2c-0.8-0.9-1.9-1.4-3.1-1.4c-0.5,0-1,0.1-1.5,0.3
        l-46.4,19.2c-1.1,0.5-2,1.4-2.3,2.6c-0.3,1.2-0.1,2.4,0.5,3.4l9.1,13.2c0,0,0,0,0,0c5.8,8.4,21.3,30.7,63.2,41.2
        c13.2,3.4,33,5.7,49.3,5.7c43.8,0,74.3-11.8,90.6-34.9c8-11.3,12-24.4,12-39c0-15.3-4.9-29.1-14.1-39.7
        c-9.3-10.7-22.4-18.2-39.1-22.1c-9-2.1-17.9-3.2-24.6-3.8c-7-0.8-14.4-1.5-24-2.2l-0.6-0.1c-7.4-0.7-15.1-1.3-22.7-2.1
        c-10.4-1.1-18.5-2.2-20.7-4.7c0,0-0.1-0.1-0.1-0.1c-0.4-0.5-0.7-1.1-0.7-1.8c0-0.9,0-3.8,6.2-6.8c6.5-3.3,20.4-5.4,34.6-5.4
        c18.9,0,33.3,3.8,44.2,11.5c2.3,1.7,3.6,3,6.3,5.7c0.8,0.8,1.8,1.2,2.9,1.2c0.4,0,0.8-0.1,1.2-0.2l49.5-16.2
        c1.2-0.4,2.1-1.3,2.5-2.5c0.4-1.2,0.2-2.5-0.5-3.6l-5.6-8.1c0,0,0,0,0-0.1c-6.2-8.7-11.5-14.7-21.9-21.8
        C339.4,410.5,313.5,403.8,280.8,403.8L280.8,403.8z M528.1,408H486c-1.5,0-2.9,0.8-3.6,2.2L378.7,611.3c-0.6,1.2-0.6,2.7,0.1,3.9
        c0.7,1.2,2,1.9,3.4,1.9h57.1c1.5,0,2.9-0.9,3.6-2.2l20.2-40.9h86.4l20.2,40.9c0.7,1.4,2.1,2.2,3.6,2.2h57.8c1.4,0,2.7-0.7,3.4-1.9
        c0.7-1.2,0.8-2.7,0.1-3.9l-103-201.1C531,408.9,529.6,408,528.1,408L528.1,408z M490.6,519.8l15.8-30.9l15.5,30.9H490.6L490.6,519.8
        z M512,68.4c-244.7,0-443.8,199.1-443.8,443.8C68.2,756.9,267.3,956,512,956c140.3,0,269.4-64.2,354.1-176.3c0.6-0.8,0.9-1.9,0.8-3
        c-0.1-1.1-0.7-2-1.5-2.6l-36.6-27.7c-0.7-0.5-1.6-0.8-2.4-0.8c-1.2,0-2.4,0.5-3.2,1.6C748.7,845.7,635.3,902.1,512,902.1
        c-215,0-389.9-174.9-389.9-389.9c0-215,174.9-389.9,389.9-389.9c215,0,389.9,174.9,389.9,389.9c0,16.9-1.1,33.9-3.3,50.7
        c-7,59.5-33.8,82.3-56.6,83.7c-1.9,0.1-3.7,0.2-5.4,0.2c-10.4,0-18.7-2.2-26-6.8c-8.5-5.4-15.6-14.3-21.2-26.7
        c9.8-3.2,18.6-7.3,26.4-12.2c21.3-13.4,29.8-28.5,36.7-40.7l0-0.1l8.7-15.4c0.6-1.1,0.7-2.5,0.2-3.6c-0.5-1.2-1.6-2-2.8-2.3
        L805.1,528c-0.3-0.1-0.5-0.1-0.8-0.1c-1.5,0-2.9,0.9-3.6,2.3l-4.4,9.2c-1.9,4.1-6.3,10.2-12.7,14.9c0,0-0.1,0.1-0.1,0.1
        c-5.4,4.3-18.3,11.4-43.8,11.4h-1.4c-30,0-44.9-10.4-51.1-16.7c-9-10.2-13.6-23.1-13.6-38.4c0-20.2,8.1-34.8,23.9-43.3
        c13.9-7.4,30.6-8.5,39.3-8.5c19.6,0,34.8,5.3,42.4,10.3c7.4,4.9,10,9.4,13.6,15.7l0.1,0.1l4.7,8.3c0.7,1.3,2.1,2,3.5,2
        c0.3,0,0.6,0,0.9-0.1l53.5-11.9c1.3-0.3,2.3-1.1,2.8-2.3c0.5-1.2,0.4-2.5-0.2-3.6l-9.1-15.4c-5-8.4-15.4-26-37.6-39.9
        c-27.5-17.1-62-18.9-75.6-18.9c-51.4,0-75.4,19.1-83.3,25.5c-26,19.6-39.2,47.5-39.2,82.9c0,32.7,11.7,60.4,33.8,80.1
        c21.6,19.2,52,29.5,87.8,29.8c9.9,28.6,25,49.7,44.9,63c16.3,10.8,35.6,16.3,57.4,16.3c2.7,0,5.5-0.1,8.3-0.3
        c44.5-2.8,95.8-38.6,106.7-130.9c2.4-18.9,3.7-38.2,3.7-57.3C955.8,267.5,756.7,68.4,512,68.4L512,68.4z"/>
    </svg>
        </a>
	<span>Site built from scratch by Scott André Campbell <a class="darklink" href="https://scottandrecampbell.com">website</a> ©2023 using Python Flask and JavaScript</span>
</div>



<svg id="link-icon" class="hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" xml:space="preserve">
	<path class="svg-mask" d="M24.9,29.1H7.1c-2.3,0-4.2-1.9-4.2-4.2V7.1c0-2.3,1.9-4.2,4.2-4.2h17.8c2.3,0,4.2,1.9,4.2,4.2v17.8
		C29.1,27.2,27.2,29.1,24.9,29.1z"/>
	<path class="svg-positive" d="M24.9,1.3H7.1c-3.2,0-5.8,2.6-5.8,5.8v17.8c0,3.2,2.6,5.8,5.8,5.8h17.8c3.2,0,5.8-2.6,5.8-5.8V7.1
		C30.7,3.9,28.1,1.3,24.9,1.3z M27.5,24.9c0,1.4-1.2,2.6-2.6,2.6H7.1c-1.4,0-2.6-1.2-2.6-2.6V7.1c0-1.4,1.2-2.6,2.6-2.6h17.8
		c1.4,0,2.6,1.2,2.6,2.6V24.9z M14.4,11.9l10.4,10.4l-2.5,2.5L11.9,14.4l1.1,6.9l-3.5,0.5L7.2,7.2l14.6,2.3L21.3,13L14.4,11.9z"/>
</svg>

<script>


	//URLs starting with http://, https://, or ftp://
	//https://stackoverflow.com/questions/37684/how-to-replace-plain-urls-with-links
	const replacePattern1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
	const p_tags = document.getElementsByTagName('p');
	for(let p of p_tags){
		if(p.firstElementChild === null && p.textContent.indexOf('http') !== -1){
			const contents = p.textContent;
    		p.innerHTML = contents.replace(replacePattern1, '<a class="md-link" href="$1" target="_blank">$1</a>');
		}
	}

	const svg_link = document.getElementById('link-icon');
	const links = document.getElementsByTagName('a');
	const link_box = document.createElement('div');
	link_box.classList.add('link-box');

	let link_id = 0;
	for(let a of links){
		if(!a.querySelector(':first-of-type img')){
			const boxy = link_box.cloneNode(true);
			boxy.setAttribute('id', 'link-'+link_id);
			const parent = a.parentNode;
			a.classList.add('link-full');
			const icon = svg_link.cloneNode(true);
			icon.removeAttribute('id');
			icon.classList.remove('hidden');
			icon.classList.add('link-icon');
			a.prepend(icon);
			parent.insertBefore(boxy, a);
			parent.querySelector('#link-'+link_id).appendChild(a);
			link_id++;
		}
	}

	// const containers = document.getElementsByClassName('container');
	// for(let ct of containers){
	// 	ct.classList.add('minimize');
	// }



	// console.log([...links].filter(e => e.parentNode.tagName !== 'a' && e.textContent.indexOf('http')!==-1).map(e=>e.textContent));
	//
	//
	// const parentElement = document.getElementById('text')
	// const newElement = Object.assign(document.createElement('a'), {
	//   href: 'example.org',
	//   textContent: parentElement.textContent
	// })
	// parentElement.textContent = ''
	// parentElement.appendChild(newElement)
</script>



</body>

</html>